<!DOCTYPE html>

<html>
<head>
  <title>CLASS: Event</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="class-event">CLASS: Event</h1>
<ul>
<li>Extends: <a href="./base.html">Base</a></li>
<li>Parent: <a href="./index.html">Index</a></li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Event</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">require</span> './<span class="hljs-title">base</span>'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Events are broadcasted down the hierarchy tree (from parents to children),
in attempt to reach the event target and get dispatched to listeners.</p>
<p>On their travel path, the events are being captured and dispatched 
to the capturing listeners.</p>
<p>After the event has reached the target,  it might start bubbling up
the hierarchy tree depending on the settings.</p>
<p>There are three ways to control event propagation</p>
<ul>
<li><strong>Cancel</strong> - stop the current dispatcher</li>
<li><strong>Stop</strong> - do not broadcast the event to children</li>
<li><strong>Abort</strong> - completely halt event propagation.</li>
</ul>
<p>When event does not propagate anymore, event <strong>callback</strong> will be called.</p>
<hr>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h2 id="constructor">CONSTRUCTOR</h2>
<p>Creates <a href="./event.html">Event</a> instance.</p>
<h3 id="new-event-type-">new Event(type)</h3>
<h3 id="new-event-callback-">new Event(callback)</h3>
<h3 id="new-event-type-callback-">new Event(type, callback)</h3>
<h3 id="new-event-args-">new Event(args)</h3>
<p>Create Event instance.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-attribute">constructor</span>: <span class="hljs-function"><span class="hljs-params">(type, callback)</span> -&gt;</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Create named arguments object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    args = (<span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> type <span class="hljs-keyword">is</span> <span class="hljs-string">'string'</span> <span class="hljs-keyword">then</span> <span class="hljs-attribute">type</span>:type <span class="hljs-keyword">else</span> type <span class="hljs-keyword">or</span> {})</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p><code>callback</code> argument overrides the <code>args.callback</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">typeof</span> callback <span class="hljs-keyword">is</span> <span class="hljs-string">'function'</span> <span class="hljs-keyword">then</span> args.callback = callback</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Call <code>super</code> to initialize #___runtime and copy properties.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">super</span> args</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>If enabled, calculate the creation timestamp</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> <span class="hljs-property">@timestamp</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span>
      date = Date.now()</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>with high precision</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      perf = performance?.now() <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>
      <span class="hljs-property">@timestamp</span> = <span class="hljs-number">1000</span> * date + Math.floor <span class="hljs-number">1000</span> * (perf - Math.floor perf)</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h4 id="parameters">PARAMETERS</h4>
<p><strong>type</strong></p>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a> - <strong>mandatory</strong> event type.</li>
<li>Dispatchers and broadcasters will ignore events without a type</li>
</ul>
<p><strong>callback</strong></p>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a> - <strong>optional</strong> completion callback</li>
<li>Will be called with event instance as <code>this</code> and first argument</li>
</ul>
<p><strong>args</strong></p>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> - named arguments</li>
</ul>
<p><strong>args.target</strong></p>
<ul>
<li>Type: <a href="./base.html">Evented</a> - <strong>optional</strong> event target.</li>
</ul>
<p><strong>args.timestamp</strong></p>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a> - override the timestamp</li>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a> - set to <code>true</code> to enable timestamp calculation</li>
</ul>
<hr>

            </div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h2 id="properties">PROPERTIES</h2>
<h3 id="-type">#type</h3>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a> - type</li>
</ul>
<h3 id="-timestamp">#timestamp</h3>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a> - creation timestamp</li>
</ul>
<h3 id="-phase">#phase</h3>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">String</a> - lifecycle phase</li>
</ul>
<h3 id="-callback">#callback</h3>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function">Function</a> - completion callback</li>
</ul>
<h3 id="-aborted">#aborted</h3>
<ul>
<li>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">Boolean</a> - aborted flag</li>
</ul>
<hr>

            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <h2 id="methods">METHODS</h2>
<h3 id="-cancel-">#cancel()</h3>
<ul>
<li>Returns: <a href="./base.html">Evented</a></li>
</ul>
<p>Cancel event dispatching</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-attribute">cancel</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-property">@___runtime</span>.cancel = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <h3 id="-stop-">#stop()</h3>
<ul>
<li>Returns: <a href="./base.html">Evented</a></li>
</ul>
<p>Stop event broadcasting</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-attribute">stop</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-property">@___runtime</span>.stop = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <hr>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <h3 id="-abort-">#abort()</h3>
<ul>
<li>Returns: <a href="./base.html">Evented</a></li>
</ul>
<p>Abort event propagation</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-attribute">abort</span>: <span class="hljs-function">-&gt;</span>
    <span class="hljs-property">@aborted</span> = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span></pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              
            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
